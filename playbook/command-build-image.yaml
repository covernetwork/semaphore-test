- name: Deploy Image
  hosts: all
  remote_user: root
  become: true

  tasks:
  - name: Clone Source Code
    args:
      chdir: /home/demo/github
    ansible.builtin.command:
      argv:
      - git clone
      - '{{ http_clone }}'

  - name: Deploy Image From Source Code
    args:
      chdir: /home/demo/github/semaphore-test/web
    ansible.builtin.command:
      argv:
      - docker build -t demo-webapp
